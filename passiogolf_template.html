<!DOCTYPE html>
<html>

  <head>
    <meta http-equiv="Content-Type" 
      content="text/html; charset=utf-8">
    <title>Invoice {{ invoice_number }}</title>
    <style>
        @page {
          size:a4;

          @frame {
              top:0.5cm;
              left:0.5cm;
              right:0.5cm;
              bottom:0.5cm;
          }

          @frame header {
              -pdf-frame-content:header;
              top:0.5cm;
              left:0.5cm;
              right:0.5cm;
              height:0.5cm;
          }

          @frame footer {
              -pdf-frame-content:footer;
              bottom:0.5cm;
              left:0.5cm;
              right:0.5cm;
              height:0.5cm;
          }
      }
      body {
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        font-size: 12px;
        line-height: 1.6;
        color: #000;
        background-color: #fff;
      }

      .invoice-box {
        width: 100%;
        margin-bottom: 0px;
        padding: 20px;
        background-color: #f2f2f2;
        zoom: 1;
      }

      h2 {
        font-weight: bold;
        font-size: 18px;
        text-align: center;
        text-decoration: none;
        color: #333;
        line-height: normal;
        
      }

      h3 {
        font-weight: semi-bold;
        font-size: 12px;
        text-align: center;
        text-decoration: none;
        color: #333;
        line-height: normal;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        background-color: #fff;
      }

      th,
      td {
        padding: 4px;
        border: 1px solid #ddd;
        text-align: left;
        font-size: 10pt;
      }

      th {
        background-color: #eee;
        font-weight: bold;
      }

      .text-right {
        text-align: right;
      }

      .item-row {
        background-color: #fff;
      }

      .total-row {
        font-size: 14px;
        font-weight: bold;
        background-color: #eee;
      }

      .total-amount {
        text-align: right;
      }

      .remarks {
        margin-top: 20px;
      }

    </style>
  </head>

  <body>
    <div class="invoice-box">
      <table>
        <thead>
            <tr style="vertical-align: middle;">
                <th colspan="3" style="padding: 8px; text-align: left;border-right: none;">
                    <div style="line-height: 1.4; font-size: 18pt; font-weight: bold;">
                        <span style="vertical-align: middle;">{{ title }}</span>
                    </div>
                </th>
                <th colspan="2" style="padding: 8px; text-align: center;border-left: none;border-right: none;">
                    <img src="https://passiogolf.shop/wp-content/uploads/2023/03/PassioGolfVN-Logo-1-227x100@2x.png" alt="Passio Golf Logo" style="width: 72px;" />
                </th>
                <th colspan="3" style="padding: 8px; text-align: right;border-left: none;">
                    <div style="line-height: 1.0; font-size: 8pt; font-weight: bold;">
                        No.: #{{ booking_id }}
                    </div>
                    <div style="line-height: 1.0; font-size: 8pt; font-weight: bold;">
                        Ref: #{{ invoice_number }}
                    </div>
                    <div style="line-height: 1.0; font-size: 8pt; font-weight: bold;">
                        Date: {{ created }}
                    </div>
                </th>
            </tr>
        </thead>
        <tbody>
          <tr>
            <td colspan="4">
              From: {{ from.name }}<br>
              Mobile: {{ from.mobile }}<br>
              Email: {{ from.email }}<br>
              <!-- Address: {{ from.address }}, {{ from.city }}, {{ from.state }} {{ from.zip }} -->
            </td>
            <td colspan="4">
              To: {{ to.name }}<br>
              Mobile: {{ to.mobile }}<br>
              Email: {{ to.email }}<br>
              <!-- Address: {{ to.address }}, {{ to.city }}, {{ to.state }} {{ to.zip }} -->
            </td>
          </tr>
          <tr class="heading">
            <th style="width:48px">#</th>
            <th>Description</th>
            <th>Date and Time</th>
            <th>Group</th>
            <th>Quantity</th>
            <th style="width:48px">Unit</th>
            <th>Unit Price (VND)</th>
            <th>Subtotal</th>
          </tr>
          {% for item in items %}
          <tr class="item-row">
            <td style="width:48px">{{ loop.index }}</td>
            <td>{{ item.description }}</td>
            <td>{{ item.date_time }}</td>
            <td>{{ item.group }}</td>
            <td>{{ item.quantity }}</td>
            <td style="width:48px">{{ item.unit }}</td>
            <td>{{ item.unit_price }} {{currency}}</td>
            <td>{{ item.total_price }} {{currency}}</td>
          </tr>
          {% endfor %}
          <!-- ... [other parts of the invoice] ... -->
          <tr class="total-row">
            <td colspan="6" rowspan="5" class="remarks">
              <b>Remarks: </b><br><i>{{ remarks }}</i>
            </td>
            <th>Grand Total</th>
            <td class="text-right">{{ thanh_tien }} {{ currency }}</td>
          </tr>
          <tr class="total-row">
            <th>Discount</th>
            <td class="text-right">{{ giam_gia }} {{ currency }}</td>
          </tr>
          <tr class="total-row">
            <th>VAT</th>
            <td class="text-right">{{ vat }} {{ currency }}</td>
          </tr>
          <tr class="total-row">
            <th>Deposit</th>
            <td class="text-right">{{ deposit }} {{ currency }}</td>
          </tr>
          <tr class="total-row">
            <th>REMAINING</th>
            <td class="text-right">{{ remaining }} {{ currency }}</td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="invoice-box">
      <table>
        <thead>
          <tr class="heading">
            <th>Notice Period</th>
            <th>Cancellation Charge</th>
            <th>Scan QR Code</th>
          </tr>
        </thead>
        <!-- Implement these rows as needed -->
        <tbody>
          <tr>
            <td>Notice Period</td>
            <td>Cancellation Charge</td>
            <td style="max-width: 150px;">
              <table style="border-collapse: collapse;">
                <tr>
                  <td style="max-width: 128px; border: none;">
                    <img style="width:100%;height:auto;" src="https://img.vietqr.io/image/{{ account.bankid }}-{{ account.no }}-evpMRRX.jpg?amount={{ remaining }}&addInfo={{ booking_id }}" alt="QR Code" />
                  </td>
                  <td style="width: auto; border: none;">
                    <p>{{ account.name }}<br>
                      {{ account.no }}<br>
                      {{ account.bank }}<br>
                      {{ account.description }}</p>
                  </td>
                </tr>
              </table>
            </td>
          </tr>
        </tbody>
      </table>
      <!-- Confirmation Section -->
      <p>
        <i style="font-size:10px">\x47\x6f\xcc\xa3\x69\x20\x68\x6f\x74\x6c\x69\x6e\x65\x20\xc4\x91\xc3\xaa\xcc\x89\x20\x62\x69\xc3\xaa\xcc\x81\x74\x20\x74\x68\xc3\xaa\x6d\x20\x74\x68\xc3\xb4\x6e\x67\x20\x74\x69\x6e\x20\x63\x68\x69\x20\x74\x69\xc3\xaa\xcc\x81\x74</i>
      </p>


      <table>
        <tr style="height:100px">
          <td>Passiogolf Sign:</td>
          <!-- Implement signing logic or image placeholder -->
          <td>Customer Sign:</td>
          <!-- Implement signing logic or image placeholder -->
        </tr>
      </table>
    </div>

  </body>

</html>
